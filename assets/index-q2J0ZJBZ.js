import{j as e,b as m}from"./index-DhXLOoLU.js";import{B as u}from"./index-BkKG4VSM.js";import{I as n,P as c}from"./index-DR06ibgt.js";import{ae as d,aF as p,B as x,aG as f,aH as h,I as j}from"./antd-BreSrAtA.js";import{P as w}from"./index-DSvDSqnX.js";import{W as o}from"./BaseForm-Bx8PAAzw.js";import{F as v}from"./index-Di5g_K-_.js";import"./faker-Dcf0Eyuj.js";import"./react-UQ1dNgW8.js";import"./index-DznfrGw4.js";function F({value:a,onChange:t}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx(d,{size:100,src:a}),e.jsx(n,{rotationSlider:!0,aspectSlider:!0,showReset:!0,showGrid:!0,cropShape:"rect",children:e.jsx(p,{accept:"image/*",showUploadList:!1,name:"file",action:"/api/upload",headers:{authorization:"authorization-text"},onChange:r=>{var s,i,l;r.file.status==="done"?((s=window.$message)==null||s.success(`${r.file.name} file uploaded successfully`),t==null||t((i=r.file.response)==null?void 0:i.result)):r.file.status==="error"&&((l=window.$message)==null||l.error(`${r.file.name} file upload failed.`))},children:e.jsx(x,{icon:e.jsx(f,{}),children:"更换头像"})})})]})})}function B(){const a=m(),t=()=>a?a.avatar?a.avatar:"https://avatar.vercel.sh/blur.svg?text=2":"",r=async()=>{var s;(s=window.$message)==null||s.success("更新基本信息成功")};return e.jsxs(u,{className:"max-w-md ml-10",children:[e.jsx("h3",{children:"我的资料"}),e.jsxs(w,{layout:"vertical",onFinish:r,initialValues:{...a,avatar:t()},requiredMark:!0,children:[e.jsx(h.Item,{name:"avatar",label:"头像",rules:[{required:!0,message:"请输入您的昵称!"}],children:e.jsx(F,{})}),e.jsx(o,{name:"username",label:"用户名",rules:[{required:!0,message:"请输入您的用户名!"}]}),e.jsx(o,{name:"email",label:"邮箱",rules:[{required:!0,message:"请输入您的邮箱!"}]}),e.jsx(v,{name:"phoneNumber",label:"联系电话",rules:[{required:!0,message:"请输入您的联系电话!"}],children:e.jsx(j,{type:"tel",allowClear:!0})}),e.jsx(c,{allowClear:!0,name:"description",label:"个人简介",placeholder:"个人简介"})]})]})}export{B as default};
