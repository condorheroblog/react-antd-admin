import{j as e,q as d,p}from"./index-Qb6QFv69.js";import{R as c}from"./react-ez5sQda2.js";import{B as x}from"./index-kw6J0sC9.js";import{A as f,a9 as h,B as j,az as P,as as F,at as l,aq as v,au as g}from"./antd-7iRxzvCa.js";import{P as w}from"./index-BVxQz0tT.js";import{P as b,W as m,a as R}from"./BaseForm-BArlJRft.js";import"./faker-CiQWN7dT.js";import"./index-CBCdRiyk.js";function q({value:t,onChange:r}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx(f,{size:100,src:t}),e.jsx(d,{rotationSlider:!0,aspectSlider:!0,showReset:!0,showGrid:!0,cropShape:"rect",children:e.jsx(h,{accept:"image/*",showUploadList:!1,name:"file",action:"/api/upload",headers:{authorization:"authorization-text"},onChange:a=>{var s,i,o;a.file.status==="done"?((s=window.$message)==null||s.success(`${a.file.name} file uploaded successfully`),r==null||r((i=a.file.response)==null?void 0:i.result)):a.file.status==="error"&&((o=window.$message)==null||o.error(`${a.file.name} file upload failed.`))},children:e.jsx(j,{icon:e.jsx(P,{}),children:"更换头像"})})})]})})}var $=["fieldProps","min","proFieldProps","max"],y=function(r,a){var s=r.fieldProps,i=r.min,o=r.proFieldProps,u=r.max,n=F(r,$);return e.jsx(b,l({valueType:"digit",fieldProps:l({min:i,max:u},s),ref:a,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:o},n))},A=c.forwardRef(y);function W(){const t=p(),r=()=>t?t.avatar?t.avatar:"https://avatar.vercel.sh/blur.svg?text=2":"",a=async()=>{var s;(s=window.$message)==null||s.success("更新基本信息成功")};return e.jsxs(x,{className:"max-w-md ml-10",children:[e.jsx("h3",{children:"我的资料"}),e.jsxs(w,{layout:"vertical",onFinish:a,initialValues:{...t,avatar:r()},requiredMark:!0,children:[e.jsx(v.Item,{name:"avatar",label:"头像",rules:[{required:!0,message:"请输入您的昵称!"}],children:e.jsx(q,{})}),e.jsx(m,{name:"username",label:"用户名",rules:[{required:!0,message:"请输入您的用户名!"}]}),e.jsx(m,{name:"email",label:"邮箱",rules:[{required:!0,message:"请输入您的邮箱!"}]}),e.jsx(A,{name:"phoneNumber",label:"联系电话",rules:[{required:!0,message:"请输入您的联系电话!"}],children:e.jsx(g,{type:"tel",allowClear:!0})}),e.jsx(R,{allowClear:!0,name:"description",label:"个人简介",placeholder:"个人简介"})]})]})}export{W as default};
